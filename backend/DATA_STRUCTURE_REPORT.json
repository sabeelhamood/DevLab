{
  "service_name": "devlab-backend",
  "description": "Learning platform backend service managing competitions, questions, user profiles, courses, topics, practices, test cases, and course completions",
  "version": "1.0.0",
  "data_structure": {
    "competition_id": "string",
    "course_id": "string",
    "course_name": "string",
    "learner1_id": "string",
    "learner2_id": "string",
    "learner1_name": "string",
    "learner2_name": "string",
    "questions": "array",
    "learner1_answers": "array",
    "learner2_answers": "array",
    "learner1_score": "number",
    "learner2_score": "number",
    "status": "string",
    "timer_seconds": "integer",
    "started_at": "datetime",
    "completed_at": "datetime",
    "current_question_index": "integer",
    "winner": "string",
    "result": "object",
    "created_at": "datetime",
    "updated_at": "datetime",
    "question_id": "string",
    "topic_id": "string",
    "title": "string",
    "question_content": "text",
    "question_type": "string",
    "difficulty": "string",
    "language": "string",
    "tags": "array",
    "metadata": "object",
    "learner_id": "string",
    "learner_name": "string",
    "topic_name": "string",
    "skills": "array",
    "practice_id": "string",
    "content": "text",
    "score": "number",
    "testCase_id": "string",
    "input": "text",
    "expected_output": "text",
    "explanation": "text",
    "course_name": "string",
    "completed_at": "datetime"
  },
  "field_descriptions": {
    "competition_id": "Unique identifier for competition (UUID)",
    "course_id": "Identifier of the course associated with competition",
    "course_name": "Display name of the course",
    "learner1_id": "UUID of first learner participating in competition",
    "learner2_id": "UUID of second learner participating in competition",
    "learner1_name": "Display name of first learner",
    "learner2_name": "Display name of second learner",
    "questions": "Array of question objects with id, title, description, test cases, points, time limit, difficulty",
    "learner1_answers": "Array of answers submitted by learner1, each containing question_id, answer, score, time_spent",
    "learner2_answers": "Array of answers submitted by learner2, each containing question_id, answer, score, time_spent",
    "learner1_score": "Total score achieved by learner1",
    "learner2_score": "Total score achieved by learner2",
    "status": "Competition status: 'pending', 'active', 'completed', 'abandoned'",
    "timer_seconds": "Total time limit for competition in seconds (default 1800)",
    "started_at": "Timestamp when competition was started",
    "completed_at": "Timestamp when competition was completed",
    "current_question_index": "Index of current question being answered (0-based)",
    "winner": "Identifier of winning learner or 'tie'",
    "result": "Object containing detailed competition results, performance metrics, and winner information",
    "created_at": "Timestamp when competition was created",
    "updated_at": "Timestamp when competition was last updated",
    "question_id": "Unique identifier for question (UUID)",
    "topic_id": "UUID of topic this question belongs to",
    "title": "Title or heading of the question",
    "question_content": "Full text content of the question including problem description",
    "question_type": "Type of question: 'code', 'theoretical'",
    "difficulty": "Difficulty level: 'easy', 'intermediate', 'hard'",
    "language": "Programming language for code questions (e.g., 'javascript', 'python')",
    "tags": "Array of tags categorizing the question (e.g., ['arrays', 'algorithms', 'dynamic-programming'])",
    "metadata": "Additional metadata object containing hints, constraints, or other question-specific data",
    "learner_id": "Unique identifier for learner/user (UUID)",
    "learner_name": "Display name of the learner",
    "topic_name": "Name of the topic",
    "skills": "Array of skills covered by topic, containing nano and macro skills",
    "practice_id": "UUID of practice session this question belongs to",
    "content": "Submitted practice content or answer",
    "score": "Score achieved in practice session (float)",
    "testCase_id": "Unique identifier for test case (UUID)",
    "input": "Input data for test case",
    "expected_output": "Expected output for test case",
    "explanation": "Explanation of what the test case validates",
    "course_name": "Name of the course",
    "completed_at": "Timestamp when course was completed"
  },
  "sample_data": {
    "competition_id": "1c8fe3d5-6b80-417f-a1aa-d3694d84d6ec",
    "course_id": "123",
    "course_name": "JavaScript Fundamentals Showdown",
    "learner1_id": "00000000-0000-0000-0000-000000000001",
    "learner2_id": "00000000-0000-0000-0000-000000000002",
    "learner1_name": "Sabeel",
    "learner2_name": "Dan",
    "questions": [
      {
        "id": "q1",
        "title": "Array Manipulation Challenge",
        "points": 100,
        "testCases": [
          {
            "input": "[1, 3, 2, 4, 5]",
            "expected": 4
          }
        ],
        "timeLimit": 600,
        "difficulty": "medium",
        "description": "Write a function that finds the longest increasing subsequence in an array. Return the length of the subsequence.",
        "starterCode": "function longestIncreasingSubsequence(arr) {\n  // TODO: implement dynamic programming solution\n  return 0;\n}"
      }
    ],
    "learner1_answers": [],
    "learner2_answers": [],
    "learner1_score": 0,
    "learner2_score": 0,
    "status": "active",
    "timer_seconds": 1800,
    "started_at": "2025-01-15T10:00:00.000Z",
    "completed_at": null,
    "current_question_index": 0,
    "winner": null,
    "result": {
      "winner_id": null,
      "performance_learner1": {
        "score": 0,
        "total_time": 0
      },
      "performance_learner2": {
        "score": 0,
        "total_time": 0
      }
    },
    "created_at": "2025-01-15T09:55:00.000Z",
    "updated_at": "2025-01-15T10:00:00.000Z",
    "question_id": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
    "topic_id": "b2c3d4e5-f6a7-8901-bcde-f12345678901",
    "title": "Find Maximum Subarray",
    "question_content": "Given an integer array nums, find the contiguous subarray (containing at least one number) which has the largest sum and return its sum.",
    "question_type": "code",
    "difficulty": "medium",
    "language": "javascript",
    "tags": ["arrays", "dynamic-programming", "algorithms"],
    "metadata": {
      "hints": ["Think about Kadane's algorithm", "Consider negative numbers"],
      "constraints": ["1 <= nums.length <= 10^5", "-10^4 <= nums[i] <= 10^4"]
    },
    "learner_id": "00000000-0000-0000-0000-000000000001",
    "learner_name": "Sabeel",
    "topic_name": "Dynamic Programming",
    "skills": [
      {
        "nano_skill": "Array manipulation",
        "macro_skill": "Problem solving"
      }
    ],
    "practice_id": "c3d4e5f6-a7b8-9012-cdef-123456789012",
    "content": "function maxSubArray(nums) { let maxSum = nums[0]; let currentSum = nums[0]; for (let i = 1; i < nums.length; i++) { currentSum = Math.max(nums[i], currentSum + nums[i]); maxSum = Math.max(maxSum, currentSum); } return maxSum; }",
    "score": 85.5,
    "testCase_id": "d4e5f6a7-b8c9-0123-def0-123456789013",
    "input": "[1, -3, 2, 1, -1]",
    "expected_output": "3",
    "explanation": "The maximum subarray is [2, 1] with sum 3",
    "course_name": "JavaScript Fundamentals",
    "completed_at": "2025-01-10T14:30:00.000Z"
  },
  "notes": [
    "Competitions can be between two learners (learner1_id and learner2_id) or learner vs AI",
    "Questions array contains full question objects with test cases, starter code, and metadata",
    "Learner answers arrays track progress through questions with scores and timing",
    "Result object contains detailed performance metrics and winner determination",
    "Questions support both code and theoretical types",
    "Test cases are linked to questions via question_id foreign key",
    "Course completions track when learners complete courses",
    "Practices link learners to courses and topics with submitted content and scores",
    "All timestamps are in ISO 8601 format (UTC)",
    "UUIDs are used for all primary keys except course_id which may be bigint or text"
  ]
}

